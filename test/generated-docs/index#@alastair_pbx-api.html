<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>pbx-api Pbx undefined Manual &amp; Documentation</title>
  <link rel="stylesheet" href="assets/style.css">
  <link rel="stylesheet" href="assets/sh.css">
  <link rel="canonical" href="http://nodejs.org/api/index#@alastair_pbx-api.md.html">
</head>
<body class="alt apidoc" id="api-section-index#@alastair_pbx-api.md">
    <div id="content" class="clearfix">
        <div id="column1" class="interior">
          <header>
            <h1>Node.js undefined Manual &amp; Documentation</h1>
            <div id="gtoc">
              <p>
                <a href="index.html" name="toc">Index</a> |
                <a href="all.html">View on single page</a> |
                <a href="index#@alastair_pbx-api.md.json">View as JSON</a>
              </p>
            </div>
            <hr>
          </header>

          <div id="toc">
            <h2>Table of Contents</h2>
            <ul>
<li><a href="#index_alastair_pbx_api_md_pbx_api">pbx-api</a><ul>
<li><a href="#index_alastair_pbx_api_md_class_api_db_productexport_pbxrulesfilepath_spreadsheetrulesfilepath">Class: Api(db, productExport, pbxRulesFilepath, spreadsheetRulesFilepath)</a><ul>
<li><a href="#index_alastair_pbx_api_md_class_method_ui_getrouter">Class Method: Ui.getRouter()</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>

          <div id="apicontent">
            <h1>pbx-api<span><a class="mark" href="#index_alastair_pbx_api_md_pbx_api" id="index_alastair_pbx_api_md_pbx_api">#</a></span></h1>
<pre class="api_stability_1">Stability: 1 - Experimental</pre><p>Provides a router middleware function that serves requests with json responses.

</p>
<pre><code>var Api = require(&apos;@alastair/pbx-api&apos;),
  api = new Api(db, productExport, pbxRulesFilepath, spreadsheetRulesFilepath);

app.use(&quot;/myProduct&quot;, api.getRouter());</code></pre>
<p>Once your application is running you can visit <a href="http://localhost:3000/docs/api">http://localhost:3000/docs/api</a> (depending on what url you configured it for) for an interactive document of what api methods are exposed.

</p>
<h2>Class: Api(db, productExport, pbxRulesFilepath, spreadsheetRulesFilepath)<span><a class="mark" href="#index_alastair_pbx_api_md_class_api_db_productexport_pbxrulesfilepath_spreadsheetrulesfilepath" id="index_alastair_pbx_api_md_class_api_db_productexport_pbxrulesfilepath_spreadsheetrulesfilepath">#</a></span></h2>
<p>This class makes up the package.

</p>
<ul>
<li><code>db</code> This object interfaces with the database layer. It can be interchanged with other implementations to change where the data is stored and fetched from. </li>
<li><p><code>productExport</code> Can grab this from the <code>pbx-product-export</code> package.</p>
</li>
<li><p><code>pbxRulesFilepath</code> A filepath to where the pbxRules file lives. This is generated with the <code>pbx-rules</code> package.</p>
</li>
<li><p><code>spreadsheetRulesFilepath</code> A filepath to where the spreadsheetRules file lives. This is generated with the <code>pbx-rules</code> package.</p>
</li>
<li><h3>Class Method: Ui.getRouter()<span><a class="mark" href="#index_alastair_pbx_api_md_class_method_ui_getrouter" id="index_alastair_pbx_api_md_class_method_ui_getrouter">#</a></span></h3>
</li>
</ul>
<p>Returns the middleware function that handles incoming requests for this product.
</p>

          </div>
        </div>
    </div>
    <div id="footer">
       
    </div>

  <script src="assets/sh_main.js"></script>
  <script src="assets/sh_javascript.min.js"></script>
  <script>highlight(undefined, undefined, 'pre');</script>
</body>
</html>
